import{l as g,c as d,s as a}from"./utilidades-bdf508cf.js";const n=g("carrinho")??{};function p(){document.getElementById("carrinho").classList.remove("right-[-360px]"),document.getElementById("carrinho").classList.add("right-[0px]")}function C(){document.getElementById("carrinho").classList.remove("right-[0px]"),document.getElementById("carrinho").classList.add("right-[-360px]")}function E(){Object.keys(n).length!==0&&(window.location.href="./checkout.html")}function y(){const e=document.getElementById("fechar-carrinho"),t=document.getElementById("abrir-carrinho"),r=document.getElementById("finalizar-compra");e.addEventListener("click",C),t.addEventListener("click",p),r.addEventListener("click",E)}function s(e){delete n[e],a("carrinho",n),x(),i()}function l(e){n[e]++,a("carrinho",n),u(e),i()}function b(e){if(n[e]===1){s(e);return}n[e]--,a("carrinho",n),u(e),i()}function u(e){document.getElementById(`quantidade-${e}`).innerText=n[e]}function m(e){const t=d.find(c=>c.id===e),r=document.getElementById("produtos-carrinho"),o=document.createElement("article"),h=["flex","bg-slate-100","rounded-lg","p-1","relative"];for(const c of h)o.classList.add(c);const f=`<button id="remover-item-${t.id}" class="absolute top-0 right-2"><i class="fa-solid fa-square-xmark text-slate-400 hover:text-slate-800"></i></button>
    <img src="./assets/${t.nomeArquivoImagem}" alt="${t.nome}" class="h-24 rounded-lg">
    <div class="p-3 flex flex-col justify-between">
      <p class="text-slate-900 text-sm">${t.nome}</p>
      <p class="text-green-800 text-base">$${t.preco}</p>
    </div>
    <div class="flex text-slate-950 items-end absolute bottom-1 right-2 text-lg">
        <button id="decrementar-produto-${t.id}">-</button>
        <p id="quantidade-${e}" class="ml-2">${n[t.id]}</p>
        <button id="incrementar-produto-${t.id}" class="ml-2">+</button>
    </div>`;o.innerHTML=f,r.appendChild(o),document.getElementById(`decrementar-produto-${t.id}`).addEventListener("click",()=>b(t.id)),document.getElementById(`incrementar-produto-${t.id}`).addEventListener("click",()=>l(t.id)),document.getElementById(`remover-item-${t.id}`).addEventListener("click",()=>s(t.id))}function x(){const e=document.getElementById("produtos-carrinho");e.innerHTML="";for(const t in n)m(t)}function $(e){if(e in n){l(e);return}n[e]=1,a("carrinho",n),m(e),i()}function i(){const e=document.getElementById("preco-total");let t=0;for(const r in n)t+=d.find(o=>o.id===r).preco*n[r];e.innerText=`Total: $${t}`}export{$ as a,i as b,y as i,x as r};
